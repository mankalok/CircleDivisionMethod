<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>割圓術 + 畫板 (完整版)</title>
    <style>
        body {
            font-family: sans-serif; display: flex; flex-direction: column;
            align-items: center; padding: 10px; background-color: #f0f0f0;
            overscroll-behavior: none;
        }
        h1 { margin-top: 0; margin-bottom: 10px; }
        .canvas-container {
            position: relative; width: 600px; height: 400px;
            margin-bottom: 10px; border: 1px solid black; box-sizing: content-box;
        }
        .canvas-container canvas {
            position: absolute; top: 0; left: 0; width: 600px; height: 400px; display: block;
        }
        #drawingCanvas { z-index: 10; cursor: crosshair; touch-action: none; background-color: transparent; }
        #cutCircleCanvas { z-index: 5; background-color: white; }
        .controls {
            margin-bottom: 10px; display: flex; flex-wrap: wrap; gap: 10px;
            align-items: center; justify-content: center; padding: 8px;
            border: 1px solid #ccc; background-color: #eee; border-radius: 5px;
            max-width: 600px; box-sizing: border-box;
        }
         .control-group { display: flex; gap: 5px; align-items: center; padding: 2px 5px; }
        label { font-weight: bold; font-size: 0.9em; margin-right: 3px; }
        input[type="number"], input[type="color"], select, button {
            padding: 4px 6px; margin: 2px; font-size: 0.9em; vertical-align: middle;
        }
        input[type="number"] { width: 55px; }
        input[type="color"] { width: 40px; height: 28px; padding: 1px; border: 1px solid #ccc; vertical-align: middle; cursor: pointer; }
        button { cursor: pointer; background-color: #5a955d; color: white; border: 1px solid #4CAF50; border-radius: 4px; min-width: 50px; }
        button:hover { background-color: #45a049; }
        button:disabled { background-color: #cccccc; border-color: #aaaaaa; color: #666666; cursor: not-allowed; }
         button.active { background-color: #ff9800; border-color: #f57c00; font-weight: bold; }
        #info { margin-top: 5px; font-size: 0.9em; color: #333; min-height: 25px; text-align: center; width: 100%; max-width: 600px; }
    </style>
</head>
<body>
    <h1>割圓術 + 畫板</h1>
    <div class="canvas-container">
        <canvas id="cutCircleCanvas" width="600" height="400"></canvas>
        <canvas id="drawingCanvas" width="600" height="400"></canvas>
    </div>
    <div class="controls">
        <div class="control-group">
            <label for="slicesInput">分割份數:</label>
            <input type="number" id="slicesInput" value="16" min="4" step="2">
        </div>
        <div class="control-group">
            <button id="drawButton">繪製圓形</button>
            <button id="rearrangeButton" disabled>重組圖形</button>
        </div>
    </div>
    <div class="controls">
         <div class="control-group">
             <label>工具:</label>
             <button id="penToolBtn" data-tool="pen">畫筆</button>
             <button id="lineToolBtn" data-tool="line">直線</button>
             <button id="rectToolBtn" data-tool="rect">矩形</button>
             <button id="eraserToolBtn" data-tool="eraser">擦膠</button>
         </div>
         <div class="control-group">
             <label for="colorPicker">顏色:</label>
             <input type="color" id="colorPicker" value="#000000">
         </div>
         <div class="control-group">
              <label for="lineWidthSelect">線寬/擦膠大小:</label>
              <select id="lineWidthSelect">
                  <option value="1">1</option>
                  <option value="2" selected>2</option>
                  <option value="5">5</option>
                  <option value="10">10</option>
                  <option value="20">20</option>
                  <option value="30">30</option>
              </select>
         </div>
         <div class="control-group">
             <button id="clearDrawingBtn">清除畫板</button>
         </div>
    </div>
    <div id="info">
        請選擇偶數份數並點擊 "繪製圓形"。可使用畫板工具。
    </div>
    <script src="script.js" defer></script>
</body>
</html>
